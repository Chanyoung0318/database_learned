무결성 제약 조건 (중요)

무결성 제약 조건이란?
데이터가 테이블에 들어오는 것을 막아 테이블안에 올바른 데이터가 유지 되도록 하는 것을 의미함

1. Primary key
테이블에 들어있는 데이터를 구분(식별)하는데 사용, 대표컬럼으로 사용하고 싶을 때 적용
해당 컬럼의 값으로 null과 중복된 값 허용 X
해당 컬럼 안에서 유일한 값을 가져야함

2. foreign key
다른 테이블의 PK 컬럼에 존재하는 값 중 하나의 값을 가지는 컬럼 (외래키)

3. not null
null 을 허용하지 않음

4. unique
중복된 값 허용 X

5. check
선택된 컬럼에 설정한 범위의 값만 허용

(3,4,5 번은 PK 설정할 시 알아서 적용 됨)

두개의 컬럼을 묶어서 하나의 PK로 사용할 수 있음

이미지 넣기


데이터를 삭제하는 방법은 반드시 fk가 들어있는 테이블의 데이터를 먼저 삭제해야 함
(참조관계를 무시하고 데이터를 조작하는 방법으로는 casecade 가 있음)

나머지 제약 조건

check (???> ????) ????보다 큰 수만 가진다
default 1 입력시 값이 없으면 1로 들어간다


view와 sequence 사용

view는 기존 존재하는 여러 테이브이나 뷰를 조합하여 새로운 가상 테이블로 만든 것
복잡한 내용의 sql문이나 특정 사용자에게 보여주고 싶지 않은 내용을 감추기 위해 사용

ex) create view 뷰이름 as 쿼리 형태;

select만 사용하는것을 권장

sequence는 스스로 하나씩 증가하는 카운터를 관리하는 객체
ex) create sequence testSequence;

.nextval은 시퀀스가 가지고 있는 현재 카운트 수에서 하나를 증가시켜 출력됨
.currval은 현재 시퀀스가 가지고 있는 카운트수를 리턴함


index 사용
데이터를 좀 더 빠르게 검색하기 위해서 사용
원본 데이터에서 검색에 필요한 부분을 뽑아서 인덱스를 만듬

오라클 데이터베이스의 경우 PK, FK, unique를 사용하면 자동으로 인덱스가 생성됨

인덱스는 크게 nounique와 unique인덱스가 있는데 unique인덱스는 중복값이 없는 컬럼에 사용하고, nounique인덱스는 중복값을 허용하는 컬럼에 사용됨

ex) nounique인덱스 create index 인덱스이름 on 인덱스를 설정할테이블(컬럼);
    unique인덱스 create unique index 인덱스이름 on 인덱스를 설정할테이블(컬럼);

인덱스를 잘못 사용하면 오히려 성능저하의 원인이 되니 본인이 잘 모르면 사용하지 않는 것이 좋음

